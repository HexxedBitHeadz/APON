#### System Enumeration

```bash - target
history | grep pass
```

```bash - target
history
```

```bash - target
cat ~/.bash_history
```

```bash - target
env
```

Look for kernel exploits:
```bash - target
uname -a
```

![[gcc#Compiling]]

```bash - target
cat /proc/version
```

```bash - target
cat /etc/issue
```

Look at CPU arch:
```bash - target
lscpu
```

Look at running services:
```bash - target
ps aux
```

See what is running as root user:
```bash - target
ps aux | grep root
```

```bash - kali
ps aux | grep "^root"
```

Quick check to see if mysql is running as root:
```bash - target
ps aux | grep root | grep sql
```

Are any local ports open running as root?
![[Pasted image 20220713144503.png]]

[[23._Listening port running as root]]  <<<<<<<<<<<

List content of /etc/fstab:
==be sure to check out the directory of any found shares! (/mnt/scripts)==
```bash - target
cat/etc/fstab
```

List all moutned drives on LInux:
```bash - target
mount
```

List all available drives:
```bash - target
lsblk
```

Listing Linux drivers:
```bash - target
lsmod
```

#### User Enumeration
```bash - target
history
```

```bash - target
whoami
```

```bash - target
id
```

```bash - target
sudo -l
```

![[Pasted image 20220406190154.png]]

```bash - target
sudo su -
```

cat passwd and check for write privs:
```bash - target
cat /etc/passwd && echo "" && ls -lah /etc/passwd
```

cat passwd, grep non shell accounts:
```bash - target
cat /etc/passwd | grep -v "nologin" | grep -v "false"
```

append for just usernames:
```bash - target
 | cut -d : -f 1
```

check for shadow readability:
```bash - target
cat /etc/shadow
```

```bash - target
cat /etc/group
```

```bash - target
sudo su -
```

Check for other users:
```bash - target
ls /home
```

#### Network Enumeration
```bash - target
ifconfig
```

```bash - target
ip a
```

```bash - target
route
```

```bash - target
ip route
```

```bash - target
arp -a
```

```bash - target
ip neigh
```

```bash - target
netstat -tulpn
```

```bash - target
netstat -ano
```

Look for 
![[Port 3306 - MySQL ~#Local login]]

[[MySQL]]

Check out [[pspy]]

#### docker enumeration
By running the following command it is possible to can check whether we reside inside a docker container or not. If we are, then some of the control groups will belong to docker.
```bash - target
cat /proc/1/cgroup
```

![[Pasted image 20220925095018.png]]

Furthermore by having a review at the file /opt/backup/docker-compose.yml , we can observe that the container is running with the flag privileged: true .
```bash - target
cat /opt/backup/docker-compose.yml
```

![[Pasted image 20220925095030.png]]

Continue on with [[Docker#Privileged]]
